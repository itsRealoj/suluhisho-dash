_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[39],{"/yOo":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/faqs",function(){return n("Dlcm")}])},Dlcm:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return C}));var a=n("nKUr"),c=n("vJKn"),i=n.n(c),r=n("rg98"),o=n("q1tI"),s=n("Ktyj"),l=n("R/WZ"),u=n("i6E2"),d=n("wb2y"),f=n("ELmG"),j=n("kKAo"),h=n("ATyU"),p=n("i4t8"),x=n("Kg+a"),b=n("aipG"),m=n("1MYv"),g=n("fQ5S"),O=n("Gqia"),y=n("tZ0x"),v=n.n(y),w=n("mtPR"),S=n("A2So"),A=n("2zww"),q=n("UsYt"),_=n("20a2"),k=n("PgHX"),E=n("gd/W"),T=n("jjAL"),N=Object(l.a)({btn:{float:"right"}});function F(t){var e=t.fetchFAQs,n=t.faq,c=N(),i=Object(o.useState)(null),r=i[0],l=i[1],u=Object(_.useRouter)(),d=Boolean(r);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(x.a,{size:"sm","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(t){l(t.currentTarget)},className:c.btn,children:Object(a.jsx)(k.a,{})}),Object(a.jsxs)(E.a,{id:"simple-menu",anchorEl:r,keepMounted:!0,open:d,onClose:function(){l(null)},children:[Object(a.jsx)(T.a,{onClick:function(){return function(t){localStorage.setItem("faq",JSON.stringify(t)),u.push("manage-faq"),l(null)}(n)},children:"Edit"}),Object(a.jsx)(T.a,{onClick:function(){return function(t){s.c.collection("faqs").doc(t.id).delete().then((function(){alert("FAQ deleted!"),e()})).catch((function(t){alert("error deleting FAQ!"),console.log("error deleting FAQ....",t),e()})),l(null)}(n)},children:"Delete"})]})]})}var z=n("H6uU"),B=Object(l.a)({cardCategoryWhite:{color:"#434444",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},cardTitleWhite:{color:"#434444",marginTop:"0px",fontSize:"25px",minHeight:"auto",fontWeight:"bold",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}},pagination:{padding:"10px"},root:{paddingTop:"3px"},btn:{float:"right"},cardItem:{paddingRight:"10px",paddingLeft:"10px",marginTop:"0px",fontSize:"17px"},cardItemTitle:{paddingRight:"10px",paddingLeft:"10px",marginBottom:"3px",marginTop:"15px",fontWeight:400,fontSize:"25px"}});function C(){var t=B(),e=Object(_.useRouter)(),n=Object(o.useState)([]),c=n[0],l=n[1],u=Object(o.useState)(0),y=u[0],k=u[1],E=Object(o.useState)(10),T=E[0],N=E[1],C=Object(o.useState)(0),P=C[0],W=C[1],Q=Object(o.useState)(null),R=Q[0],I=Q[1],H=Object(o.useState)(!1),L=H[0],K=H[1],D=Object(o.useState)(!1),J=D[0],U=D[1],G=function(){var t=Object(r.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=[],U(!0),s.c.collection("faqs").orderBy("title").startAfter(R).limit(T).get().then((function(t){t.forEach((function(n){var a=n.data();a.id=n.id,e.push(a),I(t.docs[t.docs.length-1])}))})).then((function(){U(!1),l(e)})).catch((function(t){console.error(t),U(!1)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=function(){var t=Object(r.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:U(!0),e=[],s.c.collection("faqs").orderBy("title").endBefore(R).limit(T).get().then((function(t){t.forEach((function(n){var a=n.data();a.id=n.id,e.push(a),I(t.docs[t.docs.length-1])}))})).then((function(){U(!1),l(e)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),X=function(){var t=Object(r.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:U(!0),e=[],s.c.collection("faqs").orderBy("title").limit(T).get().then((function(t){t.forEach((function(n){var a=n.data();a.id=n.id,e.push(a),I(t.docs[t.docs.length-1])}))})).then((function(){U(!1),l(e)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(o.useEffect)((function(){X(),s.c.collection("faqs").get().then((function(t){W(t.size)})),s.a.onAuthStateChanged(function(){var t=Object(r.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n?K(!0):e.push("../login");case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]),L?Object(a.jsx)(h.a.main,{variants:{hidden:{opacity:.5,scale:1.1,y:10},visible:{y:0,opacity:1,scale:1,transition:{delay:0,duration:.5}}},initial:"hidden",animate:"visible",exit:"exit",children:Object(a.jsx)(w.a,{className:t.container,children:Object(a.jsx)(p.a,{xs:12,sm:12,md:12,children:Object(a.jsxs)(S.a,{children:[J?Object(a.jsx)(z.a,{}):null,Object(a.jsx)(A.a,{children:Object(a.jsxs)(w.a,{children:[Object(a.jsx)(p.a,{xs:12,sm:12,md:10,children:Object(a.jsxs)("h4",{className:t.cardTitleWhite,children:["Frequently Asked Questions",Object(a.jsx)(x.a,{size:"sm",color:"primary",className:t.btn,onClick:function(){return e.push("add-faq")},children:"Add A FAQ"})]})}),Object(a.jsx)(p.a,{xs:12,sm:12,md:2})]})}),Object(a.jsx)(q.a,{children:Object(a.jsx)(j.a,{className:t.root,children:c.map((function(t){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(b.a,{style:{marginBottom:5},children:[Object(a.jsx)(m.a,{expandIcon:Object(a.jsx)(v.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(a.jsx)(O.a,{style:{fontWeight:"bold"},children:Object(a.jsx)(w.a,{style:{paddingLeft:10},children:t.title})})}),Object(a.jsxs)(g.a,{children:[Object(a.jsx)(F,{faq:t,fetchFAQs:X,style:{float:"right"}}),Object(a.jsx)(O.a,{dangerouslySetInnerHTML:{__html:t.text}})]})]}),Object(a.jsx)(d.a,{})]})}))})}),Object(a.jsxs)(w.a,{children:[Object(a.jsx)(p.a,{xs:12,sm:12,md:10,container:!0,justify:"center",children:Object(a.jsx)(f.a,{component:"div",count:P,page:y,onPageChange:function(t,e){e>y?G():M(),k(e)},rowsPerPage:T,onRowsPerPageChange:function(t){N(parseInt(t.target.value,10)),k(0),X()}})}),Object(a.jsx)(p.a,{xs:12,sm:12,md:2,container:!0})]})]})})})}):null}C.layout=u.a}},[["/yOo",1,0,4,6,2,3,5,7,9,10,21]]]);