_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[40],{"9vCY":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/manage-alert",function(){return a("QB+I")}])},"QB+I":function(e,t,a){"use strict";a.r(t);var s=a("nKUr"),n=a("vJKn"),r=a.n(n),l=a("rg98"),c=a("q1tI"),i=a("wd/R"),o=a.n(i),d=a("Ktyj"),u=a("20a2"),m=a("KYPV"),j=a("i6E2"),b=a("i4t8"),h=a("mtPR"),x=a("um8N"),p=a("Kg+a"),f=a("A2So"),g=a("2zww"),O=a("UsYt"),v=a("5LSk");function N(){var e=Object(c.useState)(""),t=e[0],a=e[1],n=Object(c.useState)(!1),i=n[0],j=n[1],N=Object(u.useRouter)(),w=Object(m.a)({initialValues:{date:t.date,senderName:t.senderName,senderNumber:t.senderNumber,status:t.status,location:t.location,recipients:t.recipients,message:t.message},onSubmit:function(e){console.log("submitted edit!...",JSON.stringify(e,null,2));var a={date:t.date,senderName:e.senderName||t.senderName,senderNumber:e.senderNumber||t.senderNumber,status:e.status||t.status,location:e.location||t.location,recipients:e.recipients||t.recipients,message:e.message||t.message};S(a),console.log("new values..",a)}}),S=function(){var e=Object(l.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.parse(localStorage.getItem("alert")),e.next=3,d.c.collection("sms").doc(a.id).update(t);case 3:N.push("alerts");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){a(JSON.parse(localStorage.getItem("alert"))),d.a.onAuthStateChanged(function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?j(!0):N.push("../login");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),i?Object(s.jsx)("div",{children:Object(s.jsx)("form",{onSubmit:w.handleSubmit,children:Object(s.jsx)(h.a,{children:Object(s.jsx)(b.a,{xs:12,sm:12,md:8,children:Object(s.jsxs)(f.a,{children:[Object(s.jsx)(g.a,{color:"dark",children:Object(s.jsx)("h4",{className:C.cardTitleWhite,children:"View or Edit Alert"})}),Object(s.jsxs)(O.a,{children:[Object(s.jsxs)(h.a,{children:[Object(s.jsx)(b.a,{xs:12,sm:12,md:5,children:Object(s.jsx)(x.a,{labelText:"Date: Inactive",id:"company-disabled",value:w.values.date||"".concat(o()(t.date?t.date.seconds:t.date).format("LLL")),formControlProps:{fullWidth:!0},style:{color:"black"},inputProps:{disabled:!0}})}),Object(s.jsx)(b.a,{xs:12,sm:12,md:3,children:Object(s.jsx)(x.a,{labelText:"Sender Name:",id:"senderName",name:"senderName",onChange:w.handleChange,value:w.values.senderName||t.senderName,formControlProps:{fullWidth:!0}})}),Object(s.jsx)(b.a,{xs:12,sm:12,md:4,children:Object(s.jsx)(x.a,{labelText:"Sender Number:",id:"senderNumber",onChange:w.handleChange,value:w.values.senderNumber||t.senderNumber,formControlProps:{fullWidth:!0}})})]}),Object(s.jsxs)(h.a,{children:[Object(s.jsx)(b.a,{xs:12,sm:12,md:12,children:Object(s.jsx)(x.a,{labelText:"Location:",id:"location",onChange:w.handleChange,value:w.values.location||t.location,formControlProps:{fullWidth:!0}})}),Object(s.jsx)(b.a,{xs:12,sm:12,md:12,children:Object(s.jsx)(x.a,{labelText:"Recipients:",id:"recipients",onChange:w.handleChange,value:w.values.recipients||t.recipients,formControlProps:{fullWidth:!0}})})]}),Object(s.jsxs)(h.a,{children:[Object(s.jsx)(b.a,{xs:12,sm:12,md:12,children:Object(s.jsx)(x.a,{labelText:"Status:",id:"status",onChange:w.handleChange,value:w.values.status||t.status,formControlProps:{fullWidth:!0}})}),Object(s.jsx)(b.a,{xs:12,sm:12,md:12,children:Object(s.jsx)(x.a,{labelText:"Message:",id:"message",onChange:w.handleChange,value:w.values.message||"".concat(t.message?t.message.substr(0,50):t.message,"..."),formControlProps:{fullWidth:!0}})})]})]}),Object(s.jsxs)(v.a,{children:[Object(s.jsx)(p.a,{type:"submit",color:"primary",children:"Update Alert"}),Object(s.jsx)(p.a,{color:"primary",onClick:function(){return N.push("alerts")},children:"exit"})]})]})})})})}):null}var C={cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none"}};N.layout=j.a,t.default=N}},[["9vCY",1,0,4,6,14,2,3,5,7,8,13]]]);